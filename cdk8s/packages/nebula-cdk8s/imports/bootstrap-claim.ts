// generated by cdk8s
import { ApiObject, ApiObjectMetadata, GroupVersionKind } from 'cdk8s';
import { Construct } from 'constructs';


/**
 *
 *
 * @schema Bootstrap
 */
export class Bootstrap extends ApiObject {
  /**
   * Returns the apiVersion and kind for "Bootstrap"
   */
  public static readonly GVK: GroupVersionKind = {
    apiVersion: 'nebula.io/v1alpha1',
    kind: 'Bootstrap',
  }

  /**
   * Renders a Kubernetes manifest for "Bootstrap".
   *
   * This can be used to inline resource manifests inside other objects (e.g. as templates).
   *
   * @param props initialization props
   */
  public static manifest(props: BootstrapProps): any {
    return {
      ...Bootstrap.GVK,
      ...toJson_BootstrapProps(props),
    };
  }

  /**
   * Defines a "Bootstrap" API object
   * @param scope the scope in which to define this object
   * @param id a scope-local name for the object
   * @param props initialization props
   */
  public constructor(scope: Construct, id: string, props: BootstrapProps) {
    super(scope, id, {
      ...Bootstrap.GVK,
      ...props,
    });
  }

  /**
   * Renders the object to Kubernetes JSON.
   */
  public override toJson(): any {
    const resolved = super.toJson();

    return {
      ...Bootstrap.GVK,
      ...toJson_BootstrapProps(resolved),
    };
  }
}

/**
 * @schema Bootstrap
 */
export interface BootstrapProps {
  /**
   * @schema Bootstrap#metadata
   */
  readonly metadata?: ApiObjectMetadata;

  /**
   * @schema Bootstrap#spec
   */
  readonly spec: BootstrapSpec;
}

/**
 * Converts an object of type 'BootstrapProps' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapProps(obj: BootstrapProps | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'metadata': obj.metadata,
    'spec': toJson_BootstrapSpec(obj.spec),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * @schema BootstrapSpec
 */
export interface BootstrapSpec {
  /**
   * Cloudflare ProviderConfig settings (optional)
   *
   * @schema BootstrapSpec#cloudflare
   */
  readonly cloudflare?: BootstrapSpecCloudflare;

  /**
   * Type of cluster: local (uses Secret) or gke (uses WorkloadIdentity)
   *
   * @schema BootstrapSpec#clusterType
   */
  readonly clusterType: BootstrapSpecClusterType;

  /**
   * Reference to a specific composition version
   *
   * @schema BootstrapSpec#compositionRef
   */
  readonly compositionRef?: BootstrapSpecCompositionRef;

  /**
   * GCP ProviderConfig settings
   *
   * @schema BootstrapSpec#gcp
   */
  readonly gcp: BootstrapSpecGcp;

  /**
   * Helm ProviderConfig settings
   *
   * @schema BootstrapSpec#helm
   */
  readonly helm?: BootstrapSpecHelm;

  /**
   * Kubernetes ProviderConfig settings
   *
   * @schema BootstrapSpec#kubernetes
   */
  readonly kubernetes?: BootstrapSpecKubernetes;

  /**
   * Write connection secret to this reference
   *
   * @schema BootstrapSpec#writeConnectionSecretToRef
   */
  readonly writeConnectionSecretToRef?: BootstrapSpecWriteConnectionSecretToRef;
}

/**
 * Converts an object of type 'BootstrapSpec' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpec(obj: BootstrapSpec | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'cloudflare': toJson_BootstrapSpecCloudflare(obj.cloudflare),
    'clusterType': obj.clusterType,
    'compositionRef': toJson_BootstrapSpecCompositionRef(obj.compositionRef),
    'gcp': toJson_BootstrapSpecGcp(obj.gcp),
    'helm': toJson_BootstrapSpecHelm(obj.helm),
    'kubernetes': toJson_BootstrapSpecKubernetes(obj.kubernetes),
    'writeConnectionSecretToRef': toJson_BootstrapSpecWriteConnectionSecretToRef(obj.writeConnectionSecretToRef),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Cloudflare ProviderConfig settings (optional)
 *
 * @schema BootstrapSpecCloudflare
 */
export interface BootstrapSpecCloudflare {
  /**
   * Enable Cloudflare provider
   *
   * @schema BootstrapSpecCloudflare#enabled
   */
  readonly enabled?: boolean;

  /**
   * Name for the Cloudflare ProviderConfig
   *
   * @schema BootstrapSpecCloudflare#providerConfigName
   */
  readonly providerConfigName?: string;

  /**
   * Secret reference for Cloudflare API token
   *
   * @schema BootstrapSpecCloudflare#secretRef
   */
  readonly secretRef?: BootstrapSpecCloudflareSecretRef;
}

/**
 * Converts an object of type 'BootstrapSpecCloudflare' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecCloudflare(obj: BootstrapSpecCloudflare | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'enabled': obj.enabled,
    'providerConfigName': obj.providerConfigName,
    'secretRef': toJson_BootstrapSpecCloudflareSecretRef(obj.secretRef),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Type of cluster: local (uses Secret) or gke (uses WorkloadIdentity)
 *
 * @schema BootstrapSpecClusterType
 */
export enum BootstrapSpecClusterType {
  /** local */
  LOCAL = "local",
  /** gke */
  GKE = "gke",
}

/**
 * Reference to a specific composition version
 *
 * @schema BootstrapSpecCompositionRef
 */
export interface BootstrapSpecCompositionRef {
  /**
   * Composition name (e.g., bootstrap-v1)
   *
   * @schema BootstrapSpecCompositionRef#name
   */
  readonly name?: string;
}

/**
 * Converts an object of type 'BootstrapSpecCompositionRef' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecCompositionRef(obj: BootstrapSpecCompositionRef | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'name': obj.name,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * GCP ProviderConfig settings
 *
 * @schema BootstrapSpecGcp
 */
export interface BootstrapSpecGcp {
  /**
   * GCP project ID
   *
   * @schema BootstrapSpecGcp#project
   */
  readonly project: string;

  /**
   * Name for the GCP ProviderConfig
   *
   * @schema BootstrapSpecGcp#providerConfigName
   */
  readonly providerConfigName?: string;

  /**
   * Secret reference for credentials (required for clusterType: local)
   *
   * @schema BootstrapSpecGcp#secretRef
   */
  readonly secretRef?: BootstrapSpecGcpSecretRef;
}

/**
 * Converts an object of type 'BootstrapSpecGcp' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecGcp(obj: BootstrapSpecGcp | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'project': obj.project,
    'providerConfigName': obj.providerConfigName,
    'secretRef': toJson_BootstrapSpecGcpSecretRef(obj.secretRef),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Helm ProviderConfig settings
 *
 * @schema BootstrapSpecHelm
 */
export interface BootstrapSpecHelm {
  /**
   * Name for the Helm ProviderConfig
   *
   * @schema BootstrapSpecHelm#providerConfigName
   */
  readonly providerConfigName?: string;
}

/**
 * Converts an object of type 'BootstrapSpecHelm' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecHelm(obj: BootstrapSpecHelm | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'providerConfigName': obj.providerConfigName,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Kubernetes ProviderConfig settings
 *
 * @schema BootstrapSpecKubernetes
 */
export interface BootstrapSpecKubernetes {
  /**
   * Name for the Kubernetes ProviderConfig
   *
   * @schema BootstrapSpecKubernetes#providerConfigName
   */
  readonly providerConfigName?: string;
}

/**
 * Converts an object of type 'BootstrapSpecKubernetes' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecKubernetes(obj: BootstrapSpecKubernetes | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'providerConfigName': obj.providerConfigName,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Write connection secret to this reference
 *
 * @schema BootstrapSpecWriteConnectionSecretToRef
 */
export interface BootstrapSpecWriteConnectionSecretToRef {
  /**
   * Secret name
   *
   * @schema BootstrapSpecWriteConnectionSecretToRef#name
   */
  readonly name?: string;

  /**
   * Secret namespace
   *
   * @schema BootstrapSpecWriteConnectionSecretToRef#namespace
   */
  readonly namespace?: string;
}

/**
 * Converts an object of type 'BootstrapSpecWriteConnectionSecretToRef' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecWriteConnectionSecretToRef(obj: BootstrapSpecWriteConnectionSecretToRef | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'name': obj.name,
    'namespace': obj.namespace,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Secret reference for Cloudflare API token
 *
 * @schema BootstrapSpecCloudflareSecretRef
 */
export interface BootstrapSpecCloudflareSecretRef {
  /**
   * Key in the secret
   *
   * @schema BootstrapSpecCloudflareSecretRef#key
   */
  readonly key?: string;

  /**
   * Secret name
   *
   * @schema BootstrapSpecCloudflareSecretRef#name
   */
  readonly name?: string;

  /**
   * Secret namespace
   *
   * @schema BootstrapSpecCloudflareSecretRef#namespace
   */
  readonly namespace?: string;
}

/**
 * Converts an object of type 'BootstrapSpecCloudflareSecretRef' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecCloudflareSecretRef(obj: BootstrapSpecCloudflareSecretRef | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'key': obj.key,
    'name': obj.name,
    'namespace': obj.namespace,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Secret reference for credentials (required for clusterType: local)
 *
 * @schema BootstrapSpecGcpSecretRef
 */
export interface BootstrapSpecGcpSecretRef {
  /**
   * Key in the secret
   *
   * @schema BootstrapSpecGcpSecretRef#key
   */
  readonly key?: string;

  /**
   * Secret name
   *
   * @schema BootstrapSpecGcpSecretRef#name
   */
  readonly name?: string;

  /**
   * Secret namespace
   *
   * @schema BootstrapSpecGcpSecretRef#namespace
   */
  readonly namespace?: string;
}

/**
 * Converts an object of type 'BootstrapSpecGcpSecretRef' to JSON representation.
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_BootstrapSpecGcpSecretRef(obj: BootstrapSpecGcpSecretRef | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'key': obj.key,
    'name': obj.name,
    'namespace': obj.namespace,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

